/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.7/samples
 */
 
plugins {
    id 'java'
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.1.0'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'src'
        }
    }
}

application {
	mainClass.set('bms.player.beatoraja.MainLoader')
}

version = '0.8.7i'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

javafx {
    modules = ['javafx.controls', 'javafx.fxml', 'javafx.graphics']
}

repositories {
    google()
    mavenCentral()
}

ext {
    gdxVersion = '1.12.1'
    gdxControlerVersion = '1.9.13'
    ffmpegVersion = '6.1.1'
    javacppVersion = '1.5.10'
}

dependencies {
    // Apache Commons
    implementation 'commons-dbutils:commons-dbutils:1.8.1'
    implementation 'org.apache.commons:commons-compress:1.26.1'
    implementation 'org.apache.commons:commons-math3:3.6.1'

    // libGDX
    implementation "com.badlogicgames.gdx:gdx:${gdxVersion}"
    implementation "com.badlogicgames.gdx:gdx-platform:${gdxVersion}:natives-desktop"
    implementation "com.badlogicgames.gdx:gdx-controllers:${gdxControlerVersion}"
    implementation "com.badlogicgames.gdx:gdx-controllers-desktop:${gdxControlerVersion}"
    implementation "com.badlogicgames.gdx:gdx-controllers-platform:${gdxControlerVersion}:natives-desktop"
    implementation "com.badlogicgames.gdx:gdx-freetype:${gdxVersion}"
    implementation "com.badlogicgames.gdx:gdx-freetype-platform:${gdxVersion}:natives-desktop"
    implementation "com.badlogicgames.gdx:gdx-backend-lwjgl:${gdxVersion}"

    // JavaCPP ( FFmpeg + OpenCV )
    implementation "org.bytedeco:ffmpeg:${ffmpegVersion}-${javacppVersion}"
    implementation "org.bytedeco:ffmpeg:${ffmpegVersion}-${javacppVersion}:windows-x86_64"
    implementation "org.bytedeco:javacv:${javacppVersion}"

    implementation 'org.jflac:jflac-codec:1.5.2'
    implementation 'org.luaj:luaj-jse:3.0.1'
    implementation 'org.xerial:sqlite-jdbc:3.45.3.0'

    implementation files('lib/jbms-parser.jar')
    implementation files('lib/jbmstable-parser.jar')
    implementation files('lib/jportaudio.jar')
    implementation files('lib/java-discord-rpc-2.0.1-all.jar')

    testImplementation 'junit:junit:4.12'
}